"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2345],{73556:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>d,toc:()=>c});var r=s(74848),i=s(28453);const t={},l=void 0,d={id:"API-Reference/search/FindUtils",title:"FindUtils",description:"Import :",source:"@site/api/API-Reference/search/FindUtils.md",sourceDirName:"API-Reference/search",slug:"/API-Reference/search/FindUtils",permalink:"/api/API-Reference/search/FindUtils",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"FindInFiles",permalink:"/api/API-Reference/search/FindInFiles"},next:{title:"QuickOpen",permalink:"/api/API-Reference/search/QuickOpen"}},o={},c=[{value:"Import :",id:"import-",level:3},{value:"parseDollars(replaceWith, match) \u21d2 <code>string</code>",id:"parsedollarsreplacewith-match--string",level:2},{value:"performReplacements(results, replaceText, options) \u21d2 <code>$.Promise</code>",id:"performreplacementsresults-replacetext-options--promise",level:2},{value:"labelForScope(scope) \u21d2 <code>string</code>",id:"labelforscopescope--string",level:2},{value:"parseQueryInfo(queryInfo) \u21d2 <code>Object</code>",id:"parsequeryinfoqueryinfo--object",level:2},{value:"prioritizeOpenFile(files, firstFile) \u21d2 <code>Array.&lt;*&gt;</code>",id:"prioritizeopenfilefiles-firstfile--array",level:2},{value:"getOpenFilePath() \u21d2 <code>string</code>",id:"getopenfilepath--string",level:2},{value:"setInstantSearchDisabled(disable)",id:"setinstantsearchdisableddisable",level:2},{value:"isInstantSearchDisabled() \u21d2 <code>boolean</code>",id:"isinstantsearchdisabled--boolean",level:2},{value:"isWorkerSearchInProgress() \u21d2 <code>Boolean</code>",id:"isworkersearchinprogress--boolean",level:2},{value:"notifyFileFiltersChanged()",id:"notifyfilefilterschanged",level:2},{value:"notifySearchScopeChanged()",id:"notifysearchscopechanged",level:2},{value:"notifyWorkerSearchStarted()",id:"notifyworkersearchstarted",level:2},{value:"notifyWorkerSearchFinished()",id:"notifyworkersearchfinished",level:2},{value:"notifyIndexingStarted()",id:"notifyindexingstarted",level:2},{value:"notifyIndexingProgress()",id:"notifyindexingprogress",level:2},{value:"notifyIndexingFinished()",id:"notifyindexingfinished",level:2},{value:"isIndexingInProgress() \u21d2 <code>boolean</code>",id:"isindexinginprogress--boolean",level:2},{value:"setCollapseResults(collapse)",id:"setcollapseresultscollapse",level:2},{value:"isCollapsedResults() \u21d2 <code>boolean</code>",id:"iscollapsedresults--boolean",level:2}];function a(e){const n={br:"br",code:"code",em:"em",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"import-",children:"Import :"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'const FindUtils = brackets.getModule("search/FindUtils")\n'})}),"\n",(0,r.jsx)("a",{name:"parseDollars"}),"\n",(0,r.jsxs)(n.h2,{id:"parsedollarsreplacewith-match--string",children:["parseDollars(replaceWith, match) \u21d2 ",(0,r.jsx)("code",{children:"string"})]}),"\n",(0,r.jsx)(n.p,{children:"Given a replace string that contains $-expressions, replace them with data from the given\nregexp match info.\nNOTE: we can't just use the ordinary replace() function here because the string has been\nextracted from the original text and so might be missing some context that the regexp matched."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Returns"}),": ",(0,r.jsx)("code",{children:"string"})," - The replace text with the $-expressions substituted."]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"replaceWith"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"string"})}),(0,r.jsx)(n.td,{children:"The string containing the $-expressions."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"match"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"Object"})}),(0,r.jsx)(n.td,{children:"The match data from the regexp."})]})]})]}),"\n",(0,r.jsx)("a",{name:"performReplacements"}),"\n",(0,r.jsxs)(n.h2,{id:"performreplacementsresults-replacetext-options--promise",children:["performReplacements(results, replaceText, options) \u21d2 ",(0,r.jsx)("code",{children:"$.Promise"})]}),"\n",(0,r.jsxs)(n.p,{children:["Given a set of search results, replaces them with the given ",(0,r.jsx)(n.code,{children:"replaceText"}),", either on disk or in memory.\nChecks timestamps to ensure replacements are not performed in files that have changed on disk since\nthe original search results were generated. However, does ",(0,r.jsx)(n.em,{children:"not"})," check whether edits have been performed\nin in-memory documents since the search; it's up to the caller to guarantee this hasn't happened.\n(When called from the standard Find in Files UI, ",(0,r.jsx)(n.code,{children:"SearchResultsView"})," guarantees this. If called headlessly,\nthe caller needs to track changes.)"]}),"\n",(0,r.jsxs)(n.p,{children:["Replacements in documents that are already open in memory at the start of the replacement are guaranteed to\nhappen synchronously; replacements in files on disk will return an error if the on-disk file changes between\nthe time ",(0,r.jsx)(n.code,{children:"performReplacements()"})," is called and the time the replacement actually happens."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Returns"}),": ",(0,r.jsx)("code",{children:"$.Promise"})," - A promise that's resolved when the replacement is finished or rejected with an array of errors\nif there were one or more errors. Each individual item in the array will be a ",(0,r.jsx)(n.code,{children:"{item: string, error: string}"})," object,\nwhere ",(0,r.jsx)(n.code,{children:"item"})," is the full path to the file that could not be updated, and ",(0,r.jsx)(n.code,{children:"error"})," is either a FileSystem error or one\nof the ",(0,r.jsx)(n.code,{children:"FindUtils.ERROR_*"})," constants."]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"results"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"Object"})}),(0,r.jsxs)(n.td,{children:["The list of results to replace, as returned from ",(0,r.jsx)(n.code,{children:"_doSearch"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"replaceText"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"string"})}),(0,r.jsx)(n.td,{children:"The text to replace each result with."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"options"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"Object"})}),(0,r.jsx)(n.td,{children:"An options object:"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"[options.forceFilesOpen]"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"boolean"})}),(0,r.jsx)(n.td,{children:"Whether to open all files in editors and do replacements there rather than doing the         replacements on disk. Note that even if this is false, files that are already open in editors will have replacements         done in memory."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"[options.isRegexp]"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"boolean"})}),(0,r.jsx)(n.td,{children:"Whether the original query was a regexp. If true, $-substitution is performed on the replaceText."})]})]})]}),"\n",(0,r.jsx)("a",{name:"labelForScope"}),"\n",(0,r.jsxs)(n.h2,{id:"labelforscopescope--string",children:["labelForScope(scope) \u21d2 ",(0,r.jsx)("code",{children:"string"})]}),"\n",(0,r.jsx)(n.p,{children:"Returns label text to indicate the search scope. Already HTML-escaped."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param"}),(0,r.jsx)(n.th,{children:"Type"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"scope"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"Entry"})})]})})]}),"\n",(0,r.jsx)("a",{name:"parseQueryInfo"}),"\n",(0,r.jsxs)(n.h2,{id:"parsequeryinfoqueryinfo--object",children:["parseQueryInfo(queryInfo) \u21d2 ",(0,r.jsx)("code",{children:"Object"})]}),"\n",(0,r.jsx)(n.p,{children:"Parses the given query into a regexp, and returns whether it was valid or not."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Returns"}),": ",(0,r.jsx)("code",{children:"Object"})," - queryExpr - the regexp representing the query\nvalid - set to true if query is a nonempty string or a valid regexp.\nempty - set to true if query was empty.\nerror - set to an error string if valid is false and query is nonempty."]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param"}),(0,r.jsx)(n.th,{children:"Type"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"queryInfo"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"Object"})})]})})]}),"\n",(0,r.jsx)("a",{name:"prioritizeOpenFile"}),"\n",(0,r.jsxs)(n.h2,{id:"prioritizeopenfilefiles-firstfile--array",children:["prioritizeOpenFile(files, firstFile) \u21d2 ",(0,r.jsx)("code",{children:"Array.<*>"})]}),"\n",(0,r.jsx)(n.p,{children:"Prioritizes the open file and then the working set files to the starting of the list of files"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"files"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"Array.<*>"})}),(0,r.jsx)(n.td,{children:"An array of file paths or file objects to sort"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"firstFile"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"string"})}),(0,r.jsx)(n.td,{children:"If specified, the path to the file that should be sorted to the top."})]})]})]}),"\n",(0,r.jsx)("a",{name:"getOpenFilePath"}),"\n",(0,r.jsxs)(n.h2,{id:"getopenfilepath--string",children:["getOpenFilePath() \u21d2 ",(0,r.jsx)("code",{children:"string"})]}),"\n",(0,r.jsx)(n.p,{children:"Returns the path of the currently open file or null if there isn't one open"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,r.jsx)("a",{name:"setInstantSearchDisabled"}),"\n",(0,r.jsx)(n.h2,{id:"setinstantsearchdisableddisable",children:"setInstantSearchDisabled(disable)"}),"\n",(0,r.jsx)(n.p,{children:"enable/disable instant search"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"disable"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"boolean"})}),(0,r.jsx)(n.td,{children:"true to disable web worker based search"})]})})]}),"\n",(0,r.jsx)("a",{name:"isInstantSearchDisabled"}),"\n",(0,r.jsxs)(n.h2,{id:"isinstantsearchdisabled--boolean",children:["isInstantSearchDisabled() \u21d2 ",(0,r.jsx)("code",{children:"boolean"})]}),"\n",(0,r.jsx)(n.p,{children:"if instant search is disabled, this will return true we can only do instant search through worker"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,r.jsx)("a",{name:"isWorkerSearchInProgress"}),"\n",(0,r.jsxs)(n.h2,{id:"isworkersearchinprogress--boolean",children:["isWorkerSearchInProgress() \u21d2 ",(0,r.jsx)("code",{children:"Boolean"})]}),"\n",(0,r.jsx)(n.p,{children:"check if a search is progressing in worker"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Returns"}),": ",(0,r.jsx)("code",{children:"Boolean"})," - true if search is processing in worker"]}),"\n",(0,r.jsx)("a",{name:"notifyFileFiltersChanged"}),"\n",(0,r.jsx)(n.h2,{id:"notifyfilefilterschanged",children:"notifyFileFiltersChanged()"}),"\n",(0,r.jsx)(n.p,{children:"Raises an event when the file filters applied to a search changes"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,r.jsx)("a",{name:"notifySearchScopeChanged"}),"\n",(0,r.jsx)(n.h2,{id:"notifysearchscopechanged",children:"notifySearchScopeChanged()"}),"\n",(0,r.jsx)(n.p,{children:"Raises an event when the search scope changes[say search in a subdirectory in the project]"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,r.jsx)("a",{name:"notifyWorkerSearchStarted"}),"\n",(0,r.jsx)(n.h2,{id:"notifyworkersearchstarted",children:"notifyWorkerSearchStarted()"}),"\n",(0,r.jsx)(n.p,{children:"Notifies that a worker search has started so that we FindUtils can figure out\nif any outstanding worker search requests are pending"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,r.jsx)("a",{name:"notifyWorkerSearchFinished"}),"\n",(0,r.jsx)(n.h2,{id:"notifyworkersearchfinished",children:"notifyWorkerSearchFinished()"}),"\n",(0,r.jsx)(n.p,{children:"Notifies that a worker search has finished so that we FindUtils can figure out\nif any outstanding worker search requests are pending"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,r.jsx)("a",{name:"notifyIndexingStarted"}),"\n",(0,r.jsx)(n.h2,{id:"notifyindexingstarted",children:"notifyIndexingStarted()"}),"\n",(0,r.jsx)(n.p,{children:"Notifies that a worker has started indexing the files"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,r.jsx)("a",{name:"notifyIndexingProgress"}),"\n",(0,r.jsx)(n.h2,{id:"notifyindexingprogress",children:"notifyIndexingProgress()"}),"\n",(0,r.jsx)(n.p,{children:"Notifies that a worker has started indexing the files"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,r.jsx)("a",{name:"notifyIndexingFinished"}),"\n",(0,r.jsx)(n.h2,{id:"notifyindexingfinished",children:"notifyIndexingFinished()"}),"\n",(0,r.jsx)(n.p,{children:"Notifies that a worker has finished indexing the files"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,r.jsx)("a",{name:"isIndexingInProgress"}),"\n",(0,r.jsxs)(n.h2,{id:"isindexinginprogress--boolean",children:["isIndexingInProgress() \u21d2 ",(0,r.jsx)("code",{children:"boolean"})]}),"\n",(0,r.jsx)(n.p,{children:"Return true if indexing is in progress in worker"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Returns"}),": ",(0,r.jsx)("code",{children:"boolean"})," - true if files are being indexed in worker"]}),"\n",(0,r.jsx)("a",{name:"setCollapseResults"}),"\n",(0,r.jsx)(n.h2,{id:"setcollapseresultscollapse",children:"setCollapseResults(collapse)"}),"\n",(0,r.jsx)(n.p,{children:"Set if we need to collapse all results in the results pane"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"collapse"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"boolean"})}),(0,r.jsx)(n.td,{children:"true to collapse"})]})})]}),"\n",(0,r.jsx)("a",{name:"isCollapsedResults"}),"\n",(0,r.jsxs)(n.h2,{id:"iscollapsedresults--boolean",children:["isCollapsedResults() \u21d2 ",(0,r.jsx)("code",{children:"boolean"})]}),"\n",(0,r.jsx)(n.p,{children:"check if results should be collapsed"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Returns"}),": ",(0,r.jsx)("code",{children:"boolean"})," - true if results should be collapsed"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>d});var r=s(96540);const i={},t=r.createContext(i);function l(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);
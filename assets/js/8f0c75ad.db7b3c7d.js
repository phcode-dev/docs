"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1949],{62061:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>o,frontMatter:()=>d,metadata:()=>l,toc:()=>c});var t=r(74848),i=r(28453);const d={},s=void 0,l={id:"API-Reference/search/FindReplace",title:"FindReplace",description:"Import :",source:"@site/api/API-Reference/search/FindReplace.md",sourceDirName:"API-Reference/search",slug:"/API-Reference/search/FindReplace",permalink:"/api/API-Reference/search/FindReplace",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"FindInFiles",permalink:"/api/API-Reference/search/FindInFiles"},next:{title:"FindUtils",permalink:"/api/API-Reference/search/FindUtils"}},a={},c=[{value:"Import :",id:"import-",level:3},{value:"CommandManager",id:"commandmanager",level:2},{value:"findBar : <code>FindBar</code>",id:"findbar--findbar",level:2},{value:"FIND_MAX_FILE_SIZE : <code>number</code>",id:"find_max_file_size--number",level:2},{value:"FIND_HIGHLIGHT_MAX : <code>number</code>",id:"find_highlight_max--number",level:2},{value:"_getWordAt(editor, pos) \u21d2 <code>Object</code>",id:"_getwordateditor-pos--object",level:2},{value:"_expandWordAndAddNextToSelection(editor, [removePrimary])",id:"_expandwordandaddnexttoselectioneditor-removeprimary",level:2},{value:"_findAllAndSelect()",id:"_findallandselect",level:2},{value:"clearCurrentMatchHighlight()",id:"clearcurrentmatchhighlight",level:2},{value:"findNext(editor, searchBackwards, preferNoScroll, pos)",id:"findnexteditor-searchbackwards-prefernoscroll-pos",level:2},{value:"clearHighlights()",id:"clearhighlights",level:2},{value:"updateResultSet()",id:"updateresultset",level:2},{value:"handleQueryChange(editor, state, initial)",id:"handlequerychangeeditor-state-initial",level:2},{value:"openSearchBar(editor, replace)",id:"opensearchbareditor-replace",level:2},{value:"doSearch()",id:"dosearch",level:2}];function h(e){const n={br:"br",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h3,{id:"import-",children:"Import :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'const FindReplace = brackets.getModule("search/FindReplace")\n'})}),"\n",(0,t.jsx)("a",{name:"CommandManager"}),"\n",(0,t.jsx)(n.h2,{id:"commandmanager",children:"CommandManager"}),"\n",(0,t.jsx)(n.p,{children:"Adds Find and Replace commands"}),"\n",(0,t.jsx)(n.p,{children:"Originally based on the code in CodeMirror/lib/util/search.js."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Kind"}),": global variable"]}),"\n",(0,t.jsx)("a",{name:"findBar"}),"\n",(0,t.jsxs)(n.h2,{id:"findbar--findbar",children:["findBar : ",(0,t.jsx)("code",{children:"FindBar"})]}),"\n",(0,t.jsx)(n.p,{children:"Currently open Find or Find/Replace bar, if any"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Kind"}),": global variable"]}),"\n",(0,t.jsx)("a",{name:"FIND_MAX_FILE_SIZE"}),"\n",(0,t.jsxs)(n.h2,{id:"find_max_file_size--number",children:["FIND_MAX_FILE_SIZE : ",(0,t.jsx)("code",{children:"number"})]}),"\n",(0,t.jsx)(n.p,{children:"Maximum file size to search within (in chars)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Kind"}),": global constant"]}),"\n",(0,t.jsx)("a",{name:"FIND_HIGHLIGHT_MAX"}),"\n",(0,t.jsxs)(n.h2,{id:"find_highlight_max--number",children:["FIND_HIGHLIGHT_MAX : ",(0,t.jsx)("code",{children:"number"})]}),"\n",(0,t.jsx)(n.p,{children:"If the number of matches exceeds this limit, inline text highlighting and scroll-track tickmarks are disabled"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Kind"}),": global constant"]}),"\n",(0,t.jsx)("a",{name:"_getWordAt"}),"\n",(0,t.jsxs)(n.h2,{id:"_getwordateditor-pos--object",children:["_getWordAt(editor, pos) \u21d2 ",(0,t.jsx)("code",{children:"Object"})]}),"\n",(0,t.jsx)(n.p,{children:"Returns the range of the word surrounding the given editor position. Similar to getWordAt() from CodeMirror."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Kind"}),": global function",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.strong,{children:"Returns"}),": ",(0,t.jsx)("code",{children:"Object"})," - The range and content of the found word. If\rthere is no word, start will equal end and the text will be the empty string."]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"editor"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("code",{children:"Editor"})}),(0,t.jsx)(n.td,{children:"The editor to search in"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"pos"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("code",{children:"Object"})}),(0,t.jsx)(n.td,{children:"The position to find a word at."})]})]})]}),"\n",(0,t.jsx)("a",{name:"_expandWordAndAddNextToSelection"}),"\n",(0,t.jsx)(n.h2,{id:"_expandwordandaddnexttoselectioneditor-removeprimary",children:"_expandWordAndAddNextToSelection(editor, [removePrimary])"}),"\n",(0,t.jsx)(n.p,{children:"Expands each empty range in the selection to the nearest word boundaries. Then, if the primary selection\rwas already a range (even a non-word range), adds the next instance of the contents of that range as a selection."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"editor"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("code",{children:"Editor"})}),(0,t.jsx)(n.td,{children:"The editor to search in"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"[removePrimary]"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("code",{children:"boolean"})}),(0,t.jsx)(n.td,{children:"Whether to remove the current primary selection in addition to adding the next one. If true, we add the next match even if the current primary selection is a cursor (we expand it first to determine what to match)."})]})]})]}),"\n",(0,t.jsx)("a",{name:"_findAllAndSelect"}),"\n",(0,t.jsx)(n.h2,{id:"_findallandselect",children:"_findAllAndSelect()"}),"\n",(0,t.jsx)(n.p,{children:"Takes the primary selection, expands it to a word range if necessary, then sets the selection to\rinclude all instances of that range. Removes all other selections. Does nothing if the selection\ris not a range after expansion."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,t.jsx)("a",{name:"clearCurrentMatchHighlight"}),"\n",(0,t.jsx)(n.h2,{id:"clearcurrentmatchhighlight",children:"clearCurrentMatchHighlight()"}),"\n",(0,t.jsx)(n.p,{children:"Removes the current-match highlight, leaving all matches marked in the generic highlight style"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,t.jsx)("a",{name:"findNext"}),"\n",(0,t.jsx)(n.h2,{id:"findnexteditor-searchbackwards-prefernoscroll-pos",children:"findNext(editor, searchBackwards, preferNoScroll, pos)"}),"\n",(0,t.jsx)(n.p,{children:"Selects the next match (or prev match, if searchBackwards==true) starting from either the current position\r(if pos unspecified) or the given position (if pos specified explicitly). The starting position\rneed not be an existing match. If a new match is found, sets to state.lastMatch either the regex\rmatch result, or simply true for a plain-string match. If no match found, sets state.lastMatch\rto false."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param"}),(0,t.jsx)(n.th,{children:"Type"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"editor"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("code",{children:"Editor"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"searchBackwards"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("code",{children:"boolean"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"preferNoScroll"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("code",{children:"boolean"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"pos"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("code",{children:"Pos"})})]})]})]}),"\n",(0,t.jsx)("a",{name:"clearHighlights"}),"\n",(0,t.jsx)(n.h2,{id:"clearhighlights",children:"clearHighlights()"}),"\n",(0,t.jsx)(n.p,{children:"Clears all match highlights, including the current match"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,t.jsx)("a",{name:"updateResultSet"}),"\n",(0,t.jsx)(n.h2,{id:"updateresultset",children:"updateResultSet()"}),"\n",(0,t.jsx)(n.p,{children:"Called each time the search query changes or document is modified (via Replace). Updates\rthe match count, match highlights and scrollbar tickmarks. Does not change the cursor pos."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,t.jsx)("a",{name:"handleQueryChange"}),"\n",(0,t.jsx)(n.h2,{id:"handlequerychangeeditor-state-initial",children:"handleQueryChange(editor, state, initial)"}),"\n",(0,t.jsx)(n.p,{children:"Called each time the search query field changes. Updates state.parsedQuery (parsedQuery will be falsy if the field\rwas blank OR contained a regexp with invalid syntax). Then calls updateResultSet(), and then jumps to\rthe first matching result, starting from the original cursor position."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"editor"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("code",{children:"Editor"})}),(0,t.jsx)(n.td,{children:"The editor we're searching in."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"state"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("code",{children:"Object"})}),(0,t.jsx)(n.td,{children:"The current query state."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"initial"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("code",{children:"boolean"})}),(0,t.jsx)(n.td,{children:"Whether this is the initial population of the query when the search bar opens.     In that case, we don't want to change the selection unnecessarily."})]})]})]}),"\n",(0,t.jsx)("a",{name:"openSearchBar"}),"\n",(0,t.jsx)(n.h2,{id:"opensearchbareditor-replace",children:"openSearchBar(editor, replace)"}),"\n",(0,t.jsx)(n.p,{children:"Creates a Find bar for the current search session."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"editor"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("code",{children:"Editor"})}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"replace"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("code",{children:"boolean"})}),(0,t.jsx)(n.td,{children:"Whether to show the Replace UI; default false"})]})]})]}),"\n",(0,t.jsx)("a",{name:"doSearch"}),"\n",(0,t.jsx)(n.h2,{id:"dosearch",children:"doSearch()"}),"\n",(0,t.jsx)(n.p,{children:"If no search pending, opens the Find dialog. If search bar already open, moves to\rnext/prev result (depending on 'searchBackwards')"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Kind"}),": global function"]})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>l});var t=r(96540);const i={},d=t.createContext(i);function s(e){const n=t.useContext(d);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),t.createElement(d.Provider,{value:n},e.children)}}}]);
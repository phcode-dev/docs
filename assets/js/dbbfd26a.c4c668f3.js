"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1388],{65249:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>d,toc:()=>c});var i=t(74848),r=t(28453);const s={},l=void 0,d={id:"API-Reference/document/DocumentManager",title:"DocumentManager",description:"Import :",source:"@site/api/API-Reference/document/DocumentManager.md",sourceDirName:"API-Reference/document",slug:"/API-Reference/document/DocumentManager",permalink:"/api/API-Reference/document/DocumentManager",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Document",permalink:"/api/API-Reference/document/"},next:{title:"TextRange",permalink:"/api/API-Reference/document/TextRange"}},o={},c=[{value:"Import :",id:"import-",level:3},{value:"_",id:"_",level:2},{value:"getOpenDocumentForPath(fullPath) \u21d2 <code>Document</code>",id:"getopendocumentforpathfullpath--document",level:2},{value:"getCurrentDocument() \u21d2 <code>Document</code>",id:"getcurrentdocument--document",level:2},{value:"..getWorkingSet() \u21d2 <code>Array.&lt;File&gt;</code>..",id:"getworkingset--arrayfile",level:2},{value:"..findInWorkingSet(fullPath) \u21d2 <code>number</code>..",id:"findinworkingsetfullpath--number",level:2},{value:"getAllOpenDocuments() \u21d2 <code>Array.&lt;Document&gt;</code>",id:"getallopendocuments--arraydocument",level:2},{value:"..addToWorkingSet(file, [index], [forceRedraw])..",id:"addtoworkingsetfile-index-forceredraw",level:2},{value:"..addListToWorkingSet(fileList)..",id:"addlisttoworkingsetfilelist",level:2},{value:"..removeListFromWorkingSet(list)..",id:"removelistfromworkingsetlist",level:2},{value:"..closeAll()..",id:"closeall",level:2},{value:"..closeFullEditor(file)..",id:"closefulleditorfile",level:2},{value:"..setCurrentDocument(document)..",id:"setcurrentdocumentdocument",level:2},{value:"..beginDocumentNavigation()..",id:"begindocumentnavigation",level:2},{value:"..finalizeDocumentNavigation()..",id:"finalizedocumentnavigation",level:2},{value:"..getNextPrevFile()..",id:"getnextprevfile",level:2},{value:"_gcDocuments()",id:"_gcdocuments",level:2},{value:"getDocumentForPath(fullPath, fileObj) \u21d2 <code>$.Promise</code>",id:"getdocumentforpathfullpath-fileobj--promise",level:2},{value:"getDocumentText(file, [checkLineEndings]) \u21d2 <code>$.Promise</code>",id:"getdocumenttextfile-checklineendings--promise",level:2},{value:"createUntitledDocument(counter, fileExt) \u21d2 <code>Document</code>",id:"createuntitleddocumentcounter-fileext--document",level:2},{value:"notifyFileDeleted(file)",id:"notifyfiledeletedfile",level:2},{value:"notifyPathDeleted(fullPath)",id:"notifypathdeletedfullpath",level:2},{value:"notifyPathNameChanged(oldName, newName)",id:"notifypathnamechangedoldname-newname",level:2}];function a(e){const n={a:"a",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h3,{id:"import-",children:"Import :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'const DocumentManager = brackets.getModule("document/DocumentManager")\n'})}),"\n",(0,i.jsx)("a",{name:"_"}),"\n",(0,i.jsx)(n.h2,{id:"_",children:"_"}),"\n",(0,i.jsx)(n.p,{children:"DocumentManager maintains a list of currently 'open' Documents. The DocumentManager is responsible\rfor coordinating document operations and dispatching certain document events."}),"\n",(0,i.jsx)(n.p,{children:"Document is the model for a file's contents; it dispatches events whenever those contents change.\rTo transiently inspect a file's content, simply get a Document and call getText() on it. However,\rto be notified of Document changes or to modify a Document, you MUST call addRef() to ensure the\rDocument instance 'stays alive' and is shared by all other who read/modify that file. ('Open'\rDocuments are all Documents that are 'kept alive', i.e. have ref count > 0)."}),"\n",(0,i.jsx)(n.p,{children:"To get a Document, call getDocumentForPath(); never new up a Document yourself."}),"\n",(0,i.jsx)(n.p,{children:"Secretly, a Document may use an Editor instance to act as the model for its internal state. (This\ris unavoidable because CodeMirror does not separate its model from its UI). Documents are not\rmodifiable until they have a backing 'master Editor'. Creation of the backing Editor is owned by\rEditorManager. A Document only gets a backing Editor if it opened in an editor."}),"\n",(0,i.jsx)(n.p,{children:"A non-modifiable Document may still dispatch change notifications, if the Document was changed\rexternally on disk."}),"\n",(0,i.jsx)(n.p,{children:"Aside from the text content, Document tracks a few pieces of metadata - notably, whether there are\rany unsaved changes."}),"\n",(0,i.jsx)(n.p,{children:"This module dispatches several events:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"dirtyFlagChange -- When any Document's isDirty flag changes. The 2nd arg to the listener is the\rDocument whose flag changed."}),"\n",(0,i.jsx)(n.li,{children:"documentSaved -- When a Document's changes have been saved. The 2nd arg to the listener is the\rDocument that has been saved."}),"\n",(0,i.jsx)(n.li,{children:"documentRefreshed -- When a Document's contents have been reloaded from disk. The 2nd arg to the\rlistener is the Document that has been refreshed."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"NOTE: WorkingSet APIs have been deprecated and have moved to MainViewManager as WorkingSet APIs\rSome WorkingSet APIs that have been identified as being used by 3rd party extensions will\remit deprecation warnings and call the WorkingSet APIS to maintain backwards compatibility"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"currentDocumentChange -- Deprecated: use EditorManager activeEditorChange (which covers all editors,\rnot just full-sized editors) or MainViewManager currentFileChange (which covers full-sized views\ronly, but is also triggered for non-editor views e.g. image files)."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"fileNameChange -- When the name of a file or folder has changed. The 2nd arg is the old name.\rThe 3rd arg is the new name.  Generally, however, file objects have already been changed by the\rtime this event is dispatched so code that relies on matching the filename to a file object\rwill need to compare the newname."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"pathDeleted -- When a file or folder has been deleted. The 2nd arg is the path that was deleted."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:'To listen for events, do something like this: (see EventDispatcher for details on this pattern)\rDocumentManager.on("eventname", handler);'}),"\n",(0,i.jsx)(n.p,{children:"Document objects themselves also dispatch some events - see Document docs for details."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global variable"]}),"\n",(0,i.jsx)("a",{name:"getOpenDocumentForPath"}),"\n",(0,i.jsxs)(n.h2,{id:"getopendocumentforpathfullpath--document",children:["getOpenDocumentForPath(fullPath) \u21d2 ",(0,i.jsx)("code",{children:"Document"})]}),"\n",(0,i.jsxs)(n.p,{children:["Returns the existing open Document for the given file, or null if the file is not open ('open'\rmeans referenced by the UI somewhere). If you will hang onto the Document, you must addRef()\rit; see ",(0,i.jsx)(n.a,{href:"#getDocumentForPath",children:"#getDocumentForPath"})," for details."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Param"}),(0,i.jsx)(n.th,{children:"Type"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"fullPath"}),(0,i.jsx)(n.td,{children:(0,i.jsx)("code",{children:"string"})})]})})]}),"\n",(0,i.jsx)("a",{name:"getCurrentDocument"}),"\n",(0,i.jsxs)(n.h2,{id:"getcurrentdocument--document",children:["getCurrentDocument() \u21d2 ",(0,i.jsx)("code",{children:"Document"})]}),"\n",(0,i.jsx)(n.p,{children:"Returns the Document that is currently open in the editor UI. May be null."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,i.jsx)("a",{name:"getWorkingSet"}),"\n",(0,i.jsxs)(n.h2,{id:"getworkingset--arrayfile",children:["..getWorkingSet() \u21d2 ",(0,i.jsx)("code",{children:"Array.<File>"}),".."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Deprecated"})})}),"\n",(0,i.jsx)(n.p,{children:"Returns a list of items in the working set in UI list order. May be 0-length, but never null."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,i.jsx)("a",{name:"findInWorkingSet"}),"\n",(0,i.jsxs)(n.h2,{id:"findinworkingsetfullpath--number",children:["..findInWorkingSet(fullPath) \u21d2 ",(0,i.jsx)("code",{children:"number"}),".."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Deprecated"})})}),"\n",(0,i.jsx)(n.p,{children:"Returns the index of the file matching fullPath in the working set."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global function",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Returns"}),": ",(0,i.jsx)("code",{children:"number"})," - index, -1 if not found"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Param"}),(0,i.jsx)(n.th,{children:"Type"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"fullPath"}),(0,i.jsx)(n.td,{children:(0,i.jsx)("code",{children:"string"})})]})})]}),"\n",(0,i.jsx)("a",{name:"getAllOpenDocuments"}),"\n",(0,i.jsxs)(n.h2,{id:"getallopendocuments--arraydocument",children:["getAllOpenDocuments() \u21d2 ",(0,i.jsx)("code",{children:"Array.<Document>"})]}),"\n",(0,i.jsx)(n.p,{children:"Returns all Documents that are 'open' in the UI somewhere (for now, this means open in an\rinline editor and/or a full-size editor). Only these Documents can be modified, and only\rthese Documents are synced with external changes on disk."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,i.jsx)("a",{name:"addToWorkingSet"}),"\n",(0,i.jsx)(n.h2,{id:"addtoworkingsetfile-index-forceredraw",children:"..addToWorkingSet(file, [index], [forceRedraw]).."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Deprecated"})})}),"\n",(0,i.jsx)(n.p,{children:"Adds the given file to the end of the working set list."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Param"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"file"}),(0,i.jsx)(n.td,{children:(0,i.jsx)("code",{children:"File"})}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"[index]"}),(0,i.jsx)(n.td,{children:(0,i.jsx)("code",{children:"number"})}),(0,i.jsx)(n.td,{children:"Position to add to list (defaults to last); -1 is ignored"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"[forceRedraw]"}),(0,i.jsx)(n.td,{children:(0,i.jsx)("code",{children:"boolean"})}),(0,i.jsx)(n.td,{children:"If true, a working set change notification is always sent    (useful if suppressRedraw was used with removeFromWorkingSet() earlier)"})]})]})]}),"\n",(0,i.jsx)("a",{name:"addListToWorkingSet"}),"\n",(0,i.jsx)(n.h2,{id:"addlisttoworkingsetfilelist",children:"..addListToWorkingSet(fileList).."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Deprecated"})})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Param"}),(0,i.jsx)(n.th,{children:"Type"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"fileList"}),(0,i.jsx)(n.td,{children:(0,i.jsx)("code",{children:"Array.<File>"})})]})})]}),"\n",(0,i.jsx)("a",{name:"removeListFromWorkingSet"}),"\n",(0,i.jsx)(n.h2,{id:"removelistfromworkingsetlist",children:"..removeListFromWorkingSet(list).."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Deprecated"})})}),"\n",(0,i.jsx)(n.p,{children:"closes a list of files"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Param"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"list"}),(0,i.jsx)(n.td,{children:(0,i.jsx)("code",{children:"Array.<File>"})}),(0,i.jsx)(n.td,{children:"list of File objectgs to close"})]})})]}),"\n",(0,i.jsx)("a",{name:"closeAll"}),"\n",(0,i.jsx)(n.h2,{id:"closeall",children:"..closeAll().."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Deprecated"})})}),"\n",(0,i.jsx)(n.p,{children:"closes all open files"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,i.jsx)("a",{name:"closeFullEditor"}),"\n",(0,i.jsx)(n.h2,{id:"closefulleditorfile",children:"..closeFullEditor(file).."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Deprecated"})})}),"\n",(0,i.jsx)(n.p,{children:"closes the specified file file"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Param"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"file"}),(0,i.jsx)(n.td,{children:(0,i.jsx)("code",{children:"File"})}),(0,i.jsx)(n.td,{children:"the file to close"})]})})]}),"\n",(0,i.jsx)("a",{name:"setCurrentDocument"}),"\n",(0,i.jsx)(n.h2,{id:"setcurrentdocumentdocument",children:"..setCurrentDocument(document).."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Deprecated"})})}),"\n",(0,i.jsx)(n.p,{children:"opens the specified document for editing in the currently active pane"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Param"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"document"}),(0,i.jsx)(n.td,{children:(0,i.jsx)("code",{children:"Document"})}),(0,i.jsx)(n.td,{children:"The Document to make current."})]})})]}),"\n",(0,i.jsx)("a",{name:"beginDocumentNavigation"}),"\n",(0,i.jsx)(n.h2,{id:"begindocumentnavigation",children:"..beginDocumentNavigation().."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Deprecated"})})}),"\n",(0,i.jsx)(n.p,{children:"freezes the Working Set MRU list"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,i.jsx)("a",{name:"finalizeDocumentNavigation"}),"\n",(0,i.jsx)(n.h2,{id:"finalizedocumentnavigation",children:"..finalizeDocumentNavigation().."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Deprecated"})})}),"\n",(0,i.jsx)(n.p,{children:"ends document navigation and moves the current file to the front of the MRU list in the Working Set"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,i.jsx)("a",{name:"getNextPrevFile"}),"\n",(0,i.jsx)(n.h2,{id:"getnextprevfile",children:"..getNextPrevFile().."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Deprecated"})})}),"\n",(0,i.jsx)(n.p,{children:"Get the next or previous file in the working set, in MRU order (relative to currentDocument). May\rreturn currentDocument itself if working set is length 1."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,i.jsx)("a",{name:"_gcDocuments"}),"\n",(0,i.jsx)(n.h2,{id:"_gcdocuments",children:"_gcDocuments()"}),"\n",(0,i.jsx)(n.p,{children:"Cleans up any loose Documents whose only ref is its own master Editor, and that Editor is not\rrooted in the UI anywhere. This can happen if the Editor is auto-created via Document APIs that\rtrigger _ensureMasterEditor() without making it dirty. E.g. a command invoked on the focused\rinline editor makes no-op edits or does a read-only operation."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,i.jsx)("a",{name:"getDocumentForPath"}),"\n",(0,i.jsxs)(n.h2,{id:"getdocumentforpathfullpath-fileobj--promise",children:["getDocumentForPath(fullPath, fileObj) \u21d2 ",(0,i.jsx)("code",{children:"$.Promise"})]}),"\n",(0,i.jsx)(n.p,{children:"Gets an existing open Document for the given file, or creates a new one if the Document is\rnot currently open ('open' means referenced by the UI somewhere). Always use this method to\rget Documents; do not call the Document constructor directly. This method is safe to call\rin parallel."}),"\n",(0,i.jsx)(n.p,{children:"If you are going to hang onto the Document for more than just the duration of a command - e.g.\rif you are going to display its contents in a piece of UI - then you must addRef() the Document\rand listen for changes on it. (Note: opening the Document in an Editor automatically manages\rrefs and listeners for that Editor UI)."}),"\n",(0,i.jsx)(n.p,{children:"If all you need is the Document's getText() value, use the faster getDocumentText() instead."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global function",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Returns"}),": ",(0,i.jsx)("code",{children:"$.Promise"})," - A promise object that will be resolved with the Document, or rejected\rwith a FileSystemError if the file is not yet open and can't be read from disk."]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Param"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"fullPath"}),(0,i.jsx)(n.td,{children:(0,i.jsx)("code",{children:"string"})}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"fileObj"}),(0,i.jsx)(n.td,{children:(0,i.jsx)("code",{children:"object"})}),(0,i.jsx)(n.td,{children:"actual File"})]})]})]}),"\n",(0,i.jsx)("a",{name:"getDocumentText"}),"\n",(0,i.jsxs)(n.h2,{id:"getdocumenttextfile-checklineendings--promise",children:["getDocumentText(file, [checkLineEndings]) \u21d2 ",(0,i.jsx)("code",{children:"$.Promise"})]}),"\n",(0,i.jsx)(n.p,{children:"Gets the text of a Document (including any unsaved changes), or would-be Document if the\rfile is not actually open. More efficient than getDocumentForPath(). Use when you're reading\rdocument(s) but don't need to hang onto a Document object."}),"\n",(0,i.jsx)(n.p,{children:"If the file is open this is equivalent to calling getOpenDocumentForPath().getText(). If the\rfile is NOT open, this is like calling getDocumentForPath()...getText() but more efficient.\rDiffers from plain FileUtils.readAsText() in two ways: (a) line endings are still normalized\ras in Document.getText(); (b) unsaved changes are returned if there are any."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global function",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Returns"}),": ",(0,i.jsx)("code",{children:"$.Promise"})," - A promise that is resolved with three parameters:\rcontents - string: the document's text\rtimestamp - Date: the last time the document was changed on disk (might not be the same as the last time it was changed in memory)\rlineEndings - string: the original line endings of the file, one of the FileUtils.LINE_ENDINGS_* constants;\rwill be null if checkLineEndings was false.\ror rejected with a filesystem error."]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Param"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"file"}),(0,i.jsx)(n.td,{children:(0,i.jsx)("code",{children:"File"})}),(0,i.jsx)(n.td,{children:"The file to get the text for."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"[checkLineEndings]"}),(0,i.jsx)(n.td,{children:(0,i.jsx)("code",{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Whether to return line ending information. Default false (slightly more efficient)."})]})]})]}),"\n",(0,i.jsx)("a",{name:"createUntitledDocument"}),"\n",(0,i.jsxs)(n.h2,{id:"createuntitleddocumentcounter-fileext--document",children:["createUntitledDocument(counter, fileExt) \u21d2 ",(0,i.jsx)("code",{children:"Document"})]}),"\n",(0,i.jsx)(n.p,{children:"Creates an untitled document. The associated File has a fullPath that\rlooks like /some-random-string/Untitled-counter.fileExt."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global function",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Returns"}),": ",(0,i.jsx)("code",{children:"Document"})," - - a new untitled Document"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Param"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"counter"}),(0,i.jsx)(n.td,{children:(0,i.jsx)("code",{children:"number"})}),(0,i.jsx)(n.td,{children:"used in the name of the new Document's File"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"fileExt"}),(0,i.jsx)(n.td,{children:(0,i.jsx)("code",{children:"string"})}),(0,i.jsx)(n.td,{children:'file extension of the new Document\'s File, including "."'})]})]})]}),"\n",(0,i.jsx)("a",{name:"notifyFileDeleted"}),"\n",(0,i.jsx)(n.h2,{id:"notifyfiledeletedfile",children:"notifyFileDeleted(file)"}),"\n",(0,i.jsx)(n.p,{children:'Reacts to a file being deleted: if there is a Document for this file, causes it to dispatch a\r"deleted" event; ensures it\'s not the currentDocument; and removes this file from the working\rset. These actions in turn cause all open editors for this file to close. Discards any unsaved\rchanges - it is expected that the UI has already confirmed with the user before calling.'}),"\n",(0,i.jsx)(n.p,{children:"To simply close a main editor when the file hasn't been deleted, use closeFullEditor() or FILE_CLOSE."}),"\n",(0,i.jsx)(n.p,{children:'FUTURE: Instead of an explicit notify, we should eventually listen for deletion events on some\rsort of "project file model," making this just a private event handler.'}),"\n",(0,i.jsx)(n.p,{children:"NOTE: This function is not for general consumption, is considered private and may be deprecated\rwithout warning in a future release."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Param"}),(0,i.jsx)(n.th,{children:"Type"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"file"}),(0,i.jsx)(n.td,{children:(0,i.jsx)("code",{children:"File"})})]})})]}),"\n",(0,i.jsx)("a",{name:"notifyPathDeleted"}),"\n",(0,i.jsx)(n.h2,{id:"notifypathdeletedfullpath",children:"notifyPathDeleted(fullPath)"}),"\n",(0,i.jsx)(n.p,{children:"Called after a file or folder has been deleted. This function is responsible\rfor updating underlying model data and notifying all views of the change."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Param"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"fullPath"}),(0,i.jsx)(n.td,{children:(0,i.jsx)("code",{children:"string"})}),(0,i.jsx)(n.td,{children:"The path of the file/folder that has been deleted"})]})})]}),"\n",(0,i.jsx)("a",{name:"notifyPathNameChanged"}),"\n",(0,i.jsx)(n.h2,{id:"notifypathnamechangedoldname-newname",children:"notifyPathNameChanged(oldName, newName)"}),"\n",(0,i.jsx)(n.p,{children:"Called after a file or folder name has changed. This function is responsible\rfor updating underlying model data and notifying all views of the change."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Param"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"oldName"}),(0,i.jsx)(n.td,{children:(0,i.jsx)("code",{children:"string"})}),(0,i.jsx)(n.td,{children:"The old name of the file/folder"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"newName"}),(0,i.jsx)(n.td,{children:(0,i.jsx)("code",{children:"string"})}),(0,i.jsx)(n.td,{children:"The new name of the file/folder"})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>d});var i=t(96540);const r={},s=i.createContext(r);function l(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);
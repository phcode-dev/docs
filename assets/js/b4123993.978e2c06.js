"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7612],{63665:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var r=t(74848),n=t(28453);const a={},o=void 0,s={id:"API-Reference/features/BeautificationManager",title:"BeautificationManager",description:"Import :",source:"@site/api/API-Reference/features/BeautificationManager.md",sourceDirName:"API-Reference/features",slug:"/API-Reference/features/BeautificationManager",permalink:"/api/API-Reference/features/BeautificationManager",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"NodeConnector",permalink:"/api/API-Reference/NodeConnector"},next:{title:"NewFileContentManager",permalink:"/api/API-Reference/features/NewFileContentManager"}},d={},l=[{value:"Import :",id:"import-",level:3},{value:"features/BeautificationManager",id:"featuresbeautificationmanager",level:2},{value:"API",id:"api",level:2},{value:"registerBeautificationProvider",id:"registerbeautificationprovider",level:3},{value:"removeBeautificationProvider",id:"removebeautificationprovider",level:3},{value:"provider.beautifyEditorProvider",id:"providerbeautifyeditorprovider",level:3},{value:"The resolved promise object",id:"the-resolved-promise-object",level:4},{value:"provider.beautifyTextProvider",id:"providerbeautifytextprovider",level:3},{value:"Parameters",id:"parameters",level:4},{value:"The resolved promise object",id:"the-resolved-promise-object-1",level:4},{value:"features/BeautificationManager.beautifyEditor(editor) \u21d2 <code>Promise</code>",id:"featuresbeautificationmanagerbeautifyeditoreditor--promise",level:3},{value:"features/BeautificationManager.beautifyText(textToBeautify, filePathOrFileName) \u21d2 <code>Promise</code>",id:"featuresbeautificationmanagerbeautifytexttexttobeautify-filepathorfilename--promise",level:3},{value:"The resolved promise object",id:"the-resolved-promise-object-2",level:4}];function c(e){const i={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.h3,{id:"import-",children:"Import :"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-js",children:'brackets.getModule("features/BeautificationManager")\n'})}),"\n",(0,r.jsx)("a",{name:"module_features/BeautificationManager"}),"\n",(0,r.jsx)(i.h2,{id:"featuresbeautificationmanager",children:"features/BeautificationManager"}),"\n",(0,r.jsxs)(i.p,{children:["Beautification manager interacts with beautify extensions to determine what to do when user issues ",(0,r.jsx)(i.code,{children:"beautify code"}),"\ncommand. Beautification providers can use this module to register new providers to beautify new languages."]}),"\n",(0,r.jsx)(i.h2,{id:"api",children:"API"}),"\n",(0,r.jsx)(i.h3,{id:"registerbeautificationprovider",children:"registerBeautificationProvider"}),"\n",(0,r.jsx)(i.p,{children:"Register a Beautification provider with this api."}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Example"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-js",children:"// syntax\nBeautificationManager.registerBeautificationProvider(provider, supportedLanguages, priority);\n"})}),"\n",(0,r.jsx)(i.p,{children:"The API requires three parameters:"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"provider"}),": must implement a  ",(0,r.jsx)(i.code,{children:"beautifyEditorProvider"})," and ",(0,r.jsx)(i.code,{children:"beautifyTextProvider"})," function. See doc below:"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"supportedLanguages"}),": An array of languages that the provider supports. If ",(0,r.jsx)(i.code,{children:'["all"]'})," is supplied, then the\nprovider will be invoked for all languages. Restrict to specific languages: Eg: ",(0,r.jsx)(i.code,{children:'["javascript", "html", "php"]'})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"priority"}),": Used to break ties among providers for a particular language. Providers with a higher number\nwill be asked for beatified code before those with a lower priority value. Defaults to zero.\n",(0,r.jsx)(i.strong,{children:"Example"})]}),"\n"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-js",children:'// to register a provider that will be invoked for all languages. where provider is any object that implements\n// a `beautifyEditorProvider` and `beautifyTextProvider` function\nBeautificationManager.registerBeautificationProvider(provider, ["all"]);\n\n// to register a provider that will be invoked for specific languages\nBeautificationManager.registerBeautificationProvider(provider, ["javascript", "html", "php"]);\n'})}),"\n",(0,r.jsx)(i.h3,{id:"removebeautificationprovider",children:"removeBeautificationProvider"}),"\n",(0,r.jsxs)(i.p,{children:["Removes a registered Beautification provider. The API takes the same arguments as ",(0,r.jsx)(i.code,{children:"registerBeautificationProvider"}),".\n",(0,r.jsx)(i.strong,{children:"Example"})]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-js",children:'// syntax\nBeautificationManager.removeBeautificationProvider(provider, supportedLanguages);\n// Example\nBeautificationManager.removeBeautificationProvider(provider, ["javascript", "html"]);\n'})}),"\n",(0,r.jsx)(i.h3,{id:"providerbeautifyeditorprovider",children:"provider.beautifyEditorProvider"}),"\n",(0,r.jsxs)(i.p,{children:["Each provider must implement the ",(0,r.jsx)(i.code,{children:"beautifyEditorProvider"})," function that returns a promise. The promise either resolves with\nthe beautified code details or rejects if there is nothing to beautify for the provider.\n",(0,r.jsx)(i.strong,{children:"Example"})]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-js",children:'// function signature\nprovider.beautifyEditorProvider = function(editor) {\n        return new Promise((resolve, reject)=>{\n            resolve({\n                originalText: "the original text sent to beautify",\n                changedText: "partial or full text that changed.",\n                // Optional cursor offset if given will set the editor cursor to the position after beautification.\n                // either `cursorOffset` or `ranges` can be specified, but not both.\n                cursorOffset: number,\n                // Optional: If range is specified, only the given range will be replaced. else full text is replaced\n                ranges:{\n                    replaceStart: {line,ch},\n                    replaceEnd: {line,ch}\n                }\n            });\n        });\n    };\n'})}),"\n",(0,r.jsx)(i.h4,{id:"the-resolved-promise-object",children:"The resolved promise object"}),"\n",(0,r.jsxs)(i.p,{children:["The resolved promise should either be ",(0,r.jsx)(i.code,{children:"null"}),"(indicating that the extension itself has prettified the code and\ndoesn't want any further processing from BeautificationManager.) or contain the following details:"]}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"originalText"})," - string, the original text sent to beautify"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"changedText"})," - string, this should be the fully prettified text of the whole ",(0,r.jsx)(i.code,{children:"originalText"})," or a fragment of\npretty text in ",(0,r.jsx)(i.code,{children:"originalText"})," if a range was selected. If a ",(0,r.jsx)(i.code,{children:"fragment"})," is returned, then the\n",(0,r.jsx)(i.code,{children:"ranges"})," object must be specified."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"cursorOffset"})," - Optional number, if given will set the editor cursor to the position after beautification.\neither ",(0,r.jsx)(i.code,{children:"cursorOffset"})," or ",(0,r.jsx)(i.code,{children:"ranges"})," can be specified, but not both."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"ranges"})," - Optional object, set of 2 cursors that gives details on what range to replace with given changed text.\nIf range is not specified, the full text in the editor will be replaced. range has 2 fields:","\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"replaceStart{line,ch}"})," - the start of range to replace"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"replaceEnd{line,ch}"})," - the end of range to replace"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"providerbeautifytextprovider",children:"provider.beautifyTextProvider"}),"\n",(0,r.jsxs)(i.p,{children:["Each provider must implement the ",(0,r.jsx)(i.code,{children:"beautifyTextProvider"})," function that returns a promise.\nThe promise either resolves with the beautified code details(same as beautifyEditorProvider) or rejects if\nthere is nothing to beautify for the provider.\n",(0,r.jsx)(i.strong,{children:"Example"})]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-js",children:'// function signature.\nprovider.beautifyTextProvider = function(textToBeautify, filePathOrFileName) {\n        return new Promise((resolve, reject)=>{\n            resolve({\n                originalText: "the original text sent to beautify",\n                changedText: "partial or full text that changed.",\n                // Optional: If range is specified, only the given range is assumed changed. else full text changed.\n                ranges:{\n                    replaceStart: {line,ch},\n                    replaceEnd: {line,ch}\n                }\n            });\n        });\n    };\n'})}),"\n",(0,r.jsx)(i.h4,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsxs)(i.p,{children:["The ",(0,r.jsx)(i.code,{children:"beautifyTextProvider"})," callback will receive the following arguments."]}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsx)(i.li,{children:"textToBeautify - string"}),"\n",(0,r.jsx)(i.li,{children:"filePathOrFileName - string. This will either be a valid file path, or a file name to deduce which language the\nbeautifier is dealing with."}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"the-resolved-promise-object-1",children:"The resolved promise object"}),"\n",(0,r.jsx)(i.p,{children:"The resolved object has the same structure as beautifyEditorProvider resolved promise object."}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"#module_features/BeautificationManager",children:"features/BeautificationManager"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"#module_features/BeautificationManager..beautifyEditor",children:".beautifyEditor(editor)"})," \u21d2 ",(0,r.jsx)("code",{children:"Promise"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"#module_features/BeautificationManager..beautifyText",children:".beautifyText(textToBeautify, filePathOrFileName)"})," \u21d2 ",(0,r.jsx)("code",{children:"Promise"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)("a",{name:"module_features/BeautificationManager..beautifyEditor"}),"\n",(0,r.jsxs)(i.h3,{id:"featuresbeautificationmanagerbeautifyeditoreditor--promise",children:["features/BeautificationManager.beautifyEditor(editor) \u21d2 ",(0,r.jsx)("code",{children:"Promise"})]}),"\n",(0,r.jsx)(i.p,{children:"Beautifies text in the given editor with available providers."}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Kind"}),": inner method of ",(0,r.jsx)(i.a,{href:"#module_features/BeautificationManager",children:(0,r.jsx)("code",{children:"features/BeautificationManager"})}),(0,r.jsx)(i.br,{}),"\n",(0,r.jsx)(i.strong,{children:"Returns"}),": ",(0,r.jsx)("code",{children:"Promise"})," - - A promise that will be resolved to null if the selected text is beautified or rejects\nif beautification failed."]}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsx)(i.tr,{children:(0,r.jsx)(i.th,{children:"Param"})})}),(0,r.jsx)(i.tbody,{children:(0,r.jsx)(i.tr,{children:(0,r.jsx)(i.td,{children:"editor"})})})]}),"\n",(0,r.jsx)("a",{name:"module_features/BeautificationManager..beautifyText"}),"\n",(0,r.jsxs)(i.h3,{id:"featuresbeautificationmanagerbeautifytexttexttobeautify-filepathorfilename--promise",children:["features/BeautificationManager.beautifyText(textToBeautify, filePathOrFileName) \u21d2 ",(0,r.jsx)("code",{children:"Promise"})]}),"\n",(0,r.jsx)(i.p,{children:"Beautifies text with available providers."}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Kind"}),": inner method of ",(0,r.jsx)(i.a,{href:"#module_features/BeautificationManager",children:(0,r.jsx)("code",{children:"features/BeautificationManager"})}),(0,r.jsx)(i.br,{}),"\n",(0,r.jsx)(i.strong,{children:"Returns"}),": ",(0,r.jsx)("code",{children:"Promise"})," - - A promise that will be resolved to null if the selected text is beautified or rejects\nif beautification failed.."]}),"\n",(0,r.jsx)(i.h4,{id:"the-resolved-promise-object-2",children:"The resolved promise object"}),"\n",(0,r.jsx)(i.p,{children:"The resolved promise object contain the following details:"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"originalText"})," - string, the original text sent to beautify"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"changedText"})," - string, the prettified text."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"ranges"})," - Optional. if range object is returned, it means that only a part of the original text changed in\nthe original text ",(0,r.jsx)(i.code,{children:"textToBeautify"}),". The part that changed is supplied by two cursor positions below:","\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"replaceStart{line,ch}"})," - the start of range to replace"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"replaceEnd{line,ch}"})," - the end of range to replace"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Param"}),(0,r.jsx)(i.th,{children:"Type"}),(0,r.jsx)(i.th,{children:"Description"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"textToBeautify"}),(0,r.jsx)(i.td,{children:(0,r.jsx)("code",{children:"string"})}),(0,r.jsx)(i.td,{})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"filePathOrFileName"}),(0,r.jsx)(i.td,{children:(0,r.jsx)("code",{children:"string"})}),(0,r.jsx)(i.td,{children:"Note that the file path may not actually exist on disk. It is just used to infer what language beautifier is to be applied."})]})]})]})]})}function h(e={}){const{wrapper:i}={...(0,n.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,i,t)=>{t.d(i,{R:()=>o,x:()=>s});var r=t(96540);const n={},a=r.createContext(n);function o(e){const i=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function s(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),r.createElement(a.Provider,{value:i},e.children)}}}]);
"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[842],{89533:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>o,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var r=t(74848),s=t(28453);const i={},d=void 0,a={id:"API-Reference/utils/PerfUtils",title:"PerfUtils",description:"Import :",source:"@site/api/API-Reference/utils/PerfUtils.md",sourceDirName:"API-Reference/utils",slug:"/API-Reference/utils/PerfUtils",permalink:"/api/API-Reference/utils/PerfUtils",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"NodeUtils",permalink:"/api/API-Reference/utils/NodeUtils"},next:{title:"Resizer",permalink:"/api/API-Reference/utils/Resizer"}},l={},c=[{value:"Import :",id:"import-",level:3},{value:"_",id:"_",level:2},{value:"createPerfMeasurement(id, name)",id:"createperfmeasurementid-name",level:2},{value:"markStart(name) \u21d2 <code>Object</code> | <code>Array.&lt;Object&gt;</code>",id:"markstartname--object--arrayobject",level:2},{value:"addMeasurement(id)",id:"addmeasurementid",level:2},{value:"updateMeasurement(id)",id:"updatemeasurementid",level:2},{value:"finalizeMeasurement(id)",id:"finalizemeasurementid",level:2},{value:"isActive(id) \u21d2 <code>boolean</code>",id:"isactiveid--boolean",level:2},{value:"getDelimitedPerfData() \u21d2 <code>string</code>",id:"getdelimitedperfdata--string",level:2},{value:"getData(id)",id:"getdataid",level:2},{value:"getHealthReport() \u21d2 <code>Object</code>",id:"gethealthreport--object",level:2},{value:"searchData(regExp) \u21d2 <code>Array</code>",id:"searchdataregexp--array",level:2},{value:"clear()",id:"clear",level:2}];function h(e){const n={br:"br",code:"code",em:"em",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"import-",children:"Import :"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'const PerfUtils = brackets.getModule("utils/PerfUtils")\n'})}),"\n",(0,r.jsx)("a",{name:"_"}),"\n",(0,r.jsx)(n.h2,{id:"_",children:"_"}),"\n",(0,r.jsx)(n.p,{children:"This is a collection of utility functions for gathering performance data."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global variable"]}),"\n",(0,r.jsx)("a",{name:"createPerfMeasurement"}),"\n",(0,r.jsx)(n.h2,{id:"createperfmeasurementid-name",children:"createPerfMeasurement(id, name)"}),"\n",(0,r.jsx)(n.p,{children:"Create a new PerfMeasurement key. Adds itself to the module export.\nCan be accessed on the module, e.g. PerfUtils.MY_PERF_KEY."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"id"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"string"})}),(0,r.jsx)(n.td,{children:"Unique ID for this measurement name"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"name"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"name"})}),(0,r.jsx)(n.td,{children:"A short name for this measurement"})]})]})]}),"\n",(0,r.jsx)("a",{name:"markStart"}),"\n",(0,r.jsxs)(n.h2,{id:"markstartname--object--arrayobject",children:["markStart(name) \u21d2 ",(0,r.jsx)("code",{children:"Object"})," | ",(0,r.jsx)("code",{children:"Array.<Object>"})]}),"\n",(0,r.jsx)(n.p,{children:'Start a new named timer. The name should be as descriptive as possible, since\nthis name will appear as an entry in the performance report.\nFor example: "Open file: /Users/brackets/src/ProjectManager.js"'}),"\n",(0,r.jsx)(n.p,{children:"Multiple timers can be opened simultaneously."}),"\n",(0,r.jsx)(n.p,{children:"Returns an opaque set of timer ids which can be stored and used for calling\naddMeasurement(). Since name is often creating via concatenating strings this\nreturn value allows clients to construct the name once."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Returns"}),": ",(0,r.jsx)("code",{children:"Object"})," | ",(0,r.jsx)("code",{children:"Array.<Object>"})," - Opaque timer id or array of timer ids."]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"name"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)("code",{children:"string"})," | ",(0,r.jsx)("code",{children:"Array.<string>"})]}),(0,r.jsx)(n.td,{children:"Single name or an Array of names."})]})})]}),"\n",(0,r.jsx)("a",{name:"addMeasurement"}),"\n",(0,r.jsx)(n.h2,{id:"addmeasurementid",children:"addMeasurement(id)"}),"\n",(0,r.jsx)(n.p,{children:"Stop a timer and add its measurements to the performance data."}),"\n",(0,r.jsx)(n.p,{children:"Multiple measurements can be stored for any given name. If there are\nmultiple values for a name, they are stored in an Array."}),"\n",(0,r.jsx)(n.p,{children:"If markStart() was not called for the specified timer, the\nmeasured time is relative to app startup."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"id"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"Object"})}),(0,r.jsx)(n.td,{children:"Timer id."})]})})]}),"\n",(0,r.jsx)("a",{name:"updateMeasurement"}),"\n",(0,r.jsx)(n.h2,{id:"updatemeasurementid",children:"updateMeasurement(id)"}),"\n",(0,r.jsxs)(n.p,{children:["This function is similar to addMeasurement(), but it allows timing the\n",(0,r.jsx)(n.em,{children:"last"})," event, when you don't know which event will be the last one."]}),"\n",(0,r.jsx)(n.p,{children:"Tests that are in the activeTests list, have not yet been added, so add\nmeasurements to the performance data, and move test to updatableTests list.\nA test is moved to the updatable list so that it no longer passes isActive()."}),"\n",(0,r.jsx)(n.p,{children:"Tests that are already in the updatableTests list are updated."}),"\n",(0,r.jsx)(n.p,{children:"Caller must explicitly remove test from the updatableTests list using\nfinalizeMeasurement()."}),"\n",(0,r.jsx)(n.p,{children:"If markStart() was not called for the specified timer, there is no way to\ndetermine if this is the first or subsequent call, so the measurement is\nnot updatable, and it is handled in addMeasurement()."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"id"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"Object"})}),(0,r.jsx)(n.td,{children:"Timer id."})]})})]}),"\n",(0,r.jsx)("a",{name:"finalizeMeasurement"}),"\n",(0,r.jsx)(n.h2,{id:"finalizemeasurementid",children:"finalizeMeasurement(id)"}),"\n",(0,r.jsx)(n.p,{children:"Remove timer from lists so next action starts a new measurement"}),"\n",(0,r.jsx)(n.p,{children:"updateMeasurement may not have been called, so timer may be\nin either or neither list, but should never be in both."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"id"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"Object"})}),(0,r.jsx)(n.td,{children:"Timer id."})]})})]}),"\n",(0,r.jsx)("a",{name:"isActive"}),"\n",(0,r.jsxs)(n.h2,{id:"isactiveid--boolean",children:["isActive(id) \u21d2 ",(0,r.jsx)("code",{children:"boolean"})]}),"\n",(0,r.jsx)(n.p,{children:'Returns whether a timer is active or not, where "active" means that\ntimer has been started with addMark(), but has not been added to perfdata\nwith addMeasurement().'}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Returns"}),": ",(0,r.jsx)("code",{children:"boolean"})," - Whether a timer is active or not."]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"id"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"Object"})}),(0,r.jsx)(n.td,{children:"Timer id."})]})})]}),"\n",(0,r.jsx)("a",{name:"getDelimitedPerfData"}),"\n",(0,r.jsxs)(n.h2,{id:"getdelimitedperfdata--string",children:["getDelimitedPerfData() \u21d2 ",(0,r.jsx)("code",{children:"string"})]}),"\n",(0,r.jsx)(n.p,{children:"Returns the performance data as a tab delimited string"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,r.jsx)("a",{name:"getData"}),"\n",(0,r.jsx)(n.h2,{id:"getdataid",children:"getData(id)"}),"\n",(0,r.jsx)(n.p,{children:"Returns the measured value for the given measurement name."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"id"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"Object"})}),(0,r.jsx)(n.td,{children:"The measurement to retrieve."})]})})]}),"\n",(0,r.jsx)("a",{name:"getHealthReport"}),"\n",(0,r.jsxs)(n.h2,{id:"gethealthreport--object",children:["getHealthReport() \u21d2 ",(0,r.jsx)("code",{children:"Object"})]}),"\n",(0,r.jsx)(n.p,{children:"Returns the Performance metrics to be logged for health report"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Returns"}),": ",(0,r.jsx)("code",{children:"Object"})," - An object with the health data logs to be sent"]}),"\n",(0,r.jsx)("a",{name:"searchData"}),"\n",(0,r.jsxs)(n.h2,{id:"searchdataregexp--array",children:["searchData(regExp) \u21d2 ",(0,r.jsx)("code",{children:"Array"})]}),"\n",(0,r.jsx)(n.p,{children:"To search data given the regular expression"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"regExp"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"RegExp"})}),(0,r.jsx)(n.td,{children:"the regular expression"})]})})]}),"\n",(0,r.jsx)("a",{name:"clear"}),"\n",(0,r.jsx)(n.h2,{id:"clear",children:"clear()"}),"\n",(0,r.jsx)(n.p,{children:"Clear all logs including metric data and active tests."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kind"}),": global function"]})]})}function o(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>d,x:()=>a});var r=t(96540);const s={},i=r.createContext(s);function d(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);